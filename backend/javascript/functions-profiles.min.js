/* https://www.axel-hahn.de/ */
var sIdInput="profileimageinserter",sIdOutput="profileimagedata",sIdDeleteButton="profileimagedelete",sIdFileselect="profileimagefile";
function initInsertImage(){var b=document.getElementById(sIdInput),c=document.getElementById(sIdOutput),d=document.getElementById(sIdDeleteButton),e=document.getElementById(sIdFileselect);b&&c&&($("body").on("focus","[contenteditable]",function(){const a=$(this);a.data("before",a.html())}).on("paste keyup","[contenteditable]",function(){const a=$(this);a.data("before")!==a.html()&&(a.data("before",a.html()),a.trigger("change"))}),$(b).change(function(){var a=$("#"+this.id+" > img")?$("#"+this.id+
" > img").attr("src"):"";a&&c.value!==a&&(c.value=a,b.innerHTML="["+a.length+']<br><img src="'+a+'">',$(d).attr("disabled","disabled"))}));d&&c&&$(d).click(function(){c.value="DELETE";$(b).hide();$(document.getElementById("myimagediv")).css("opacity",.3);return!1});$(e).change(function(){$(b).css("opacity",.3)})}initInsertImage();