/* https://www.axel-hahn.de/ */
function _getId(a,c=""){return a.id?a.id:c+a.innerHTML.replace(/\W/g,"")}
function initDrawH3list(){var a="",c=!1,b=0;$("h3").each(function(){c=_getId(this,"h3");this.id||(this.id=c);"h3menu"!==this.id&&(b++,a+='<li class="pure-menu-item"><a href="#'+c+'" class="scroll-link pure-menu-link'+(1===b?" pure-menu-link-active":"")+'">'+this.innerHTML.replace(/(<([^>]+)>)/ig,"")+"</a></li>")});3>b?a="":($(window).on("scroll",function(){$("h3").each(function(){$(window).scrollTop()>=$(this).offset().top-400&&(c=_getId(this,"h3"),$("#ulh3list a").removeClass("pure-menu-link-active"),
$("#ulh3list a[href$="+c+"]").addClass("pure-menu-link-active"))})}),$('<ul class="pure-menu-list" id="ulh3list" style="display: none;">'+a+"</ul>").insertAfter($("ul .pure-menu-link-active").last()),$("#ulh3list").slideDown(200))}
function initSoftscroll(){$(function(){$("a.scroll-link").click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var a=$(this.hash);a=a.length?a:$("[name="+this.hash.slice(1)+"]");if(a.length)return $("html,body").animate({scrollTop:a.offset().top-130},300),!1}})})}function changeView(a,c){$("."+a).hide();$("#"+c).show()}
function initExtendedView(){var a=localStorage.getItem("crawler_showExtended");$(".btn-extend").hide();1==a?($("#btn-extend-on").show(),$(".hintextended").hide(),$(".extended").slideDown()):($(".extended").hide(),$(".hintextended").show(),$("#btn-extend-off").show())}function toggleExtendedView(){var a=localStorage.getItem("crawler_showExtended");localStorage.setItem("crawler_showExtended",a/1?0:1);initExtendedView()}
function initToggleAreas(){$(".div-toggle-head").each(function(){var a=$(this).attr("id"),c=$(this.children[0]),b=$(this.nextSibling);a=localStorage.getItem("crawler_toggle-"+a+location.search);0==a&&($(c).removeClass("open"),$(b).hide());1==a&&($(c).addClass("open"),$(b).show());$(this).click(function(){return toggleAreas(this)})})}
function toggleAreas(a){var c="crawler_toggle-"+$(a).attr("id")+location.search,b=$(a.children[0]);a=$(a.nextSibling);var d=$(b).hasClass("open");d=d/1?0:1;1==d?($(b).addClass("open"),$(a).slideDown()):($(b).removeClass("open"),$(a).slideUp());localStorage.setItem(c,d);return!1}function initBase64Input(a,c){var b=document.getElementById(a),d=document.getElementById(c);b&&d&&(b=document.getElementById(a),b.onchange=function(){d.value=btoa(b.value)})}
function modalDlg_setTitle(a=""){document.getElementById("dialogtitle").innerHTML=a?a:"&nbsp;"}function modalDlg_setContent(a=""){document.getElementById("dialogcontent").innerHTML=a}function showModalUrl(a,c=""){showModal('<iframe src="'+a+'" style="width: 100%; border: 0; height: 800px;"></iframe>',c)}function showModal(a="",c=""){modalDlg_setTitle(c);modalDlg_setContent(a);showModalWindow(!0)}
function showModalWindow(a=1){var c=document.getElementById("overlay"),b=document.getElementById("content"),d=document.getElementById("navmain");a?(c.style.display="block",b.style.filter="blur(0.2em)",d.style.filter="blur(0.2em)"):(c.style.display="none",b.style.filter="",d.style.filter="");return!1}function hideModal(){showModalWindow(!1);return!1}
function getStyleRuleValue(a,c,b){for(var d="undefined"!==typeof b?[b]:document.styleSheets,e=0,k=d.length;e<k;e++){b=d[e];try{if(b.cssRules)for(var f=0,l=b.cssRules.length;f<l;f++){var g=b.cssRules[f];if(g.selectorText&&-1!==g.selectorText.split(",").indexOf(c))return g.style[a]}}catch(h){if("SecurityError"!==h.name)throw h;}}return null}
function updateStatus(a){var c=document.getElementById("divStatus");fetch(a,{}).then(a=>a.text()).then(b=>{c.innerHTML=b;c.style.display=b?"inline":"none";window.setTimeout('updateStatus("'+a+'")',1E3*(b?1:10))})}
window.addEventListener("load",function(){initDrawH3list();initSoftscroll();initExtendedView();initBase64Input("e_url","urlbase64");initToggleAreas();var a=document.location.pathname.replace(/(.*\/)[a-z0-0\.]*$/,"$1");0<=a.indexOf("/backend/")&&a.indexOf("/backend/")>a.length-10&&(a=document.location.href.replace(/\?.*$/,"").replace(/(.*\/)[a-z0-0\.]*$/,"$1"),updateStatus(a+"/get.php?action=getstatus"))});