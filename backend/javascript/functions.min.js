/* https://www.axel-hahn.de/ */
function _getId(a,b=""){return a.id?a.id:b+a.innerHTML.replace(/\W/g,"")}
function initDrawH3list(){var a="",b=!1,c=0;$("h3").each(function(){b=_getId(this,"h3");this.id||(this.id=b);"h3menu"!==this.id&&(c++,a+='<li class="pure-menu-item"><a href="#'+b+'" class="scroll-link pure-menu-link'+(1===c?" pure-menu-link-active":"")+'">'+this.innerHTML.replace(/(<([^>]+)>)/ig,"")+"</a></li>")});3>c?a="":($(window).on("scroll",function(){$("h3").each(function(){$(window).scrollTop()>=$(this).offset().top-400&&(b=_getId(this,"h3"),$("#ulh3list a").removeClass("pure-menu-link-active"),
$("#ulh3list a[href$="+b+"]").addClass("pure-menu-link-active"))})}),$('<ul class="pure-menu-list" id="ulh3list" style="display: none;">'+a+"</ul>").insertAfter($("ul .pure-menu-link-active").last()),$("#ulh3list").slideDown(200))}
function initSoftscroll(){$(function(){$("a.scroll-link").click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var a=$(this.hash);a=a.length?a:$("[name="+this.hash.slice(1)+"]");if(a.length)return $("html,body").animate({scrollTop:a.offset().top-130},300),!1}})})}function changeView(a,b){$("."+a).hide();$("#"+b).show()}
function initExtendedView(){var a=localStorage.getItem("crawler_showExtended");$(".btn-extend").hide();1==a?($("#btn-extend-on").show(),$(".extended").slideDown()):($(".extended").hide(),$("#btn-extend-off").show())}function toggleExtendedView(){var a=localStorage.getItem("crawler_showExtended");localStorage.setItem("crawler_showExtended",a/1?0:1);initExtendedView()}function modalDlg_setTitle(a=""){document.getElementById("dialogtitle").innerHTML=a?a:"&nbsp;"}
function modalDlg_setContent(a=""){document.getElementById("dialogcontent").innerHTML=a}function showModalUrl(a,b=""){showModal('<iframe src="'+a+'" style="width: 100%; border: 0; height: 800px;"></iframe>',b)}function showModal(a="",b=""){modalDlg_setTitle(b);modalDlg_setContent(a);showModalWindow(!0)}
function showModalWindow(a=1){var b=document.getElementById("overlay"),c=document.getElementById("content"),d=document.getElementById("navmain");a?(b.style.display="block",c.style.filter="blur(0.2em)",d.style.filter="blur(0.2em)"):(b.style.display="none",c.style.filter="",d.style.filter="");return!1}function hideModal(){showModalWindow(!1);return!1}
function getStyleRuleValue(a,b,c){for(var d="undefined"!==typeof c?[c]:document.styleSheets,e=0,k=d.length;e<k;e++){c=d[e];try{if(c.cssRules)for(var f=0,l=c.cssRules.length;f<l;f++){var g=c.cssRules[f];if(g.selectorText&&-1!==g.selectorText.split(",").indexOf(b))return g.style[a]}}catch(h){if("SecurityError"!==h.name)throw h;}}return null}
function updateStatus(a){var b=document.getElementById("divStatus");fetch(a,{}).then(a=>a.text()).then(c=>{b.innerHTML=c;b.style.display=c?"inline":"none";window.setTimeout('updateStatus("'+a+'")',1E3*(c?1:10))})}
window.addEventListener("load",function(){initDrawH3list();initSoftscroll();initExtendedView();var a=document.location.pathname.replace(/(.*\/)[a-z0-0\.]*$/,"$1");0<=a.indexOf("/backend/")&&a.indexOf("/backend/")>a.length-10&&(a=document.location.href.replace(/\?.*$/,"").replace(/(.*\/)[a-z0-0\.]*$/,"$1"),updateStatus(a+"/get.php?action=getstatus"))});